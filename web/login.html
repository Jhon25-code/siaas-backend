<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SIAAS | Acceso</title>

    <!-- Evitar cache del login -->
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <link rel="stylesheet" href="/css/styles.css" />
</head>

<body class="loginPage">

<!--  Si ya hay sesi贸n, ir directo al dashboard -->
<script>
    const token = localStorage.getItem('token');
    if (token) {
        window.location.href = '/dashboard.html';
    }
</script>

<!-- Lado izquierdo (Hero / Foto) -->
<section class="loginHero" aria-hidden="true"></section>

<!-- Lado derecho (Login centrado) -->
<main class="loginWrap">
    <section class="loginCard" aria-label="Acceso al sistema">

        <header class="brand">
            <img class="brandLogo" src="/images/logo_siaas.png" alt="Logo SIAAS" />
            <div class="brandText">
                <h1>SIAAS</h1>
                <p>Sistema inteligente de alertas agr铆colas</p>
            </div>
        </header>

        <div class="divider"></div>

        <form id="loginForm" class="form" autocomplete="off" autocapitalize="none" spellcheck="false">
            <label for="username">Usuario</label>
            <input
                    id="username"
                    name="username"
                    type="text"
                    placeholder="topico / admin / supervisor"
                    required
                    autofocus
            />

            <label for="password">Contrase帽a</label>
            <input
                    id="password"
                    name="password"
                    type="password"
                    placeholder="123456"
                    required
            />

            <button class="btnPrimary" type="submit">Ingresar</button>

            <!-- Mensaje de error -->
            <p id="msg" class="error"></p>
        </form>

        <!-- Footer -->
        <footer class="loginFooter">
            漏 <span id="year"></span> Agroindustrial 路 SIAAS
        </footer>

    </section>
</main>

<script>
    document.getElementById('year').textContent = new Date().getFullYear();
</script>

<!-- L贸gica de autenticaci贸n -->
<script src="/js/auth.js"></script>

</body>
</html>
